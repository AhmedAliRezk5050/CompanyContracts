@model List<DestructionViewModel>

@{
    ViewData["Title"] = "عمليات الاهلاك";
}


<div class="row">
    <div class="col-12">
        <h3 class="text-center mb-5">عمليات الاهلاك</h3>

        <div class="d-flex flex-row gap-5 mb-5"></div>

        <div class="table-responsive">
            <table class="table table-striped table-hover text-center table-bordered">
                <thead>
                <tr>
                    <th>م</th>
                    <th>رقم العقد</th>
                    <th>القيمة</th>
                    <th>التاريخ</th>
                    <th>اسم المستخدم</th>
                </tr>
                </thead>
                <tbody>
                @{
                    var counter = 0;
                }
                @foreach (var destruction in Model)
                {
                    counter++;

                    <tr>
                        <td>@counter</td>
                        <td>@destruction.ContractNumber</td>
                        <td>@destruction.Amount</td>
                        <td>@destruction.Date</td>
                        <td>@destruction.UserName</td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
</div>

@section Scripts
    {
    <script>
        $(document).ready(function () {
            const destructionsIndexTempMsg = '@TempData["destructions-index-temp-msg"]';

            if (destructionsIndexTempMsg) {
                switch (destructionsIndexTempMsg) {
                    case 'create-success':
                        Swal.fire({
                            text: 'تم الاضافة',
                            icon: 'success',
                        })
                        break;
                    case 'edit-success':
                        Swal.fire({
                            text: 'تم التعديل',
                            icon: 'success',
                        })
                        break;
                    case 'edit-error':
                        Swal.fire({
                            text: 'فشل التعديل',
                            icon: 'error',
                        })
                        break;
                    case 'delete-success':
                        Swal.fire({
                            text: 'تم الحذف',
                            icon: 'success',
                        })
                        break;
                    case 'delete-error':
                        Swal.fire({
                            text: 'فشل الحذف',
                            icon: 'error',
                        })
                        break;
                    case 'unknown-error':
                        Swal.fire({
                            text: 'خطأ غير معلوم',
                            icon: 'error',
                        })
                        break;
                }
            }

            //------------------------------------------
            $('#deleteFunderBtn').on('click', function (e) {
                debugger;
                const result = confirm("هل انت متاكد من حذف الجهة؟");
                if (!result) {
                    e.preventDefault();
                }
            });
            //------------------------------------------
        });
    </script>
}